<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Block Blast Clone</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #1e2a38;
      color: white;
    }
    h1 {
      margin-top: 20px;
    }
    #score {
      font-size: 24px;
      margin: 10px;
    }
    #board {
      display: grid;
      grid-template-columns: repeat(8, 50px);
      grid-template-rows: repeat(8, 50px);
      gap: 2px;
      margin: 20px 0;
      background: #101820;
      padding: 10px;
      border-radius: 10px;
    }
    .cell {
      width: 50px;
      height: 50px;
      background-color: #22313f;
      border-radius: 5px;
      box-shadow: inset 0 0 4px #000;
    }
    .filled {
      background-color: #f39c12;
      box-shadow: inset -2px -2px 4px #d35400, inset 2px 2px 4px #f1c40f;
    }
    #pieces {
      display: flex;
      gap: 30px;
      margin-bottom: 20px;
    }
    .piece {
      display: grid;
      grid-template-columns: repeat(4, 20px);
      grid-template-rows: repeat(4, 20px);
      gap: 1px;
      background: #34495e;
      padding: 5px;
      border-radius: 5px;
      cursor: pointer;
    }
    .block {
      width: 20px;
      height: 20px;
      background-color: #e74c3c;
      box-shadow: inset -1px -1px 2px #c0392b, inset 1px 1px 2px #ff6f61;
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <h1>Block Blast</h1>
  <div id="score">Score: 0</div>
  <div id="board"></div>
  <div id="pieces"></div>  <script>
    const board = document.getElementById("board");
    const piecesContainer = document.getElementById("pieces");
    const scoreDisplay = document.getElementById("score");
    let score = 0;
    const grid = [];

    function createBoard() {
      for (let i = 0; i < 8 * 8; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        board.appendChild(cell);
        grid.push(cell);
      }
    }

    const pieceShapes = [
      [[1,1],[1,1]],
      [[1,1,1]],
      [[1],[1],[1]],
      [[1,0],[1,1]],
      [[0,1],[1,1]],
      [[1,1,1],[0,1,0]],
      [[1,1,0],[0,1,1]],
      [[1,1,1,1]],
      [[1],[1],[1],[1]]
    ];

    function createPiece(shape) {
      const piece = document.createElement("div");
      piece.classList.add("piece");
      piece.dataset.shape = JSON.stringify(shape);
      shape.forEach((row, i) => {
        row.forEach((cell, j) => {
          const block = document.createElement("div");
          if (cell) block.classList.add("block");
          piece.appendChild(block);
        });
      });
      piece.addEventListener("click", () => selectPiece(shape));
      piecesContainer.appendChild(piece);
    }

    function generatePieces() {
      piecesContainer.innerHTML = "";
      for (let i = 0; i < 3; i++) {
        const shape = pieceShapes[Math.floor(Math.random() * pieceShapes.length)];
        createPiece(shape);
      }
    }

    function selectPiece(shape) {
      alert("Klik pada papan untuk meletakkan blok.");
      board.onclick = (e) => {
        const idx = [...board.children].indexOf(e.target);
        const x = idx % 8;
        const y = Math.floor(idx / 8);
        placePiece(shape, x, y);
        board.onclick = null;
      };
    }

    function placePiece(shape, x, y) {
      const canPlace = shape.every((row, i) => {
        return row.every((val, j) => {
          if (!val) return true;
          const xi = x + j;
          const yi = y + i;
          if (xi >= 8 || yi >= 8) return false;
          const cell = grid[yi * 8 + xi];
          return !cell.classList.contains("filled");
        });
      });

      if (!canPlace) return alert("Tidak bisa ditempatkan di sini!");

      shape.forEach((row, i) => {
        row.forEach((val, j) => {
          if (val) {
            const xi = x + j;
            const yi = y + i;
            grid[yi * 8 + xi].classList.add("filled");
          }
        });
      });

      score += shape.flat().filter(Boolean).length;
      scoreDisplay.innerText = "Score: " + score;
      checkLines();
      generatePieces();
      checkGameOver();
    }

    function checkLines() {
      for (let i = 0; i < 8; i++) {
        let rowFull = true;
        let colFull = true;
        for (let j = 0; j < 8; j++) {
          if (!grid[i * 8 + j].classList.contains("filled")) rowFull = false;
          if (!grid[j * 8 + i].classList.contains("filled")) colFull = false;
        }
        if (rowFull) {
          for (let j = 0; j < 8; j++) grid[i * 8 + j].classList.remove("filled");
          score += 8;
        }
        if (colFull) {
          for (let j = 0; j < 8; j++) grid[j * 8 + i].classList.remove("filled");
          score += 8;
        }
      }
      scoreDisplay.innerText = "Score: " + score;
    }

    function checkGameOver() {
      const available = pieceShapes.some(shape => {
        for (let y = 0; y < 8; y++) {
          for (let x = 0; x < 8; x++) {
            const canPlace = shape.every((row, i) => {
              return row.every((val, j) => {
                if (!val) return true;
                const xi = x + j;
                const yi = y + i;
                if (xi >= 8 || yi >= 8) return false;
                const cell = grid[yi * 8 + xi];
                return !cell.classList.contains("filled");
              });
            });
            if (canPlace) return true;
          }
        }
        return false;
      });
      if (!available) alert("Game Over! Skor Anda: " + score);
    }

    createBoard();
    generatePieces();
  </script></body>
</html>
